<!DOCTYPE html>
<html>
    <head>
        <title>Twitter</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="js/jquery-3.1.1.min.js"></script>
        <script src="js/app.js"></script>
    </head>
    <body>
            <form class="login">
                <h2>Logowanie</h2>
                <input type="text" id="email" placeholder="Your email address"><br>
                <input type="text" id="password" placeholder="Password">
                <input type="submit" id="button" value="Login">
            </form>
    </body>
</html>


function getDBConnection() {
    $servername = "localhost";
    $username = "twitter";
    $password = "twitter";
    $baseName = "twitter";

    $conn = new mysqli($servername,
        $username,
        $password,
        $baseName);

    if ($conn->connect_error) {
        die("Nieudane połączenie. Błąd: " . $conn->connect_error . ".Kod błędu: " . 
        $conn->connect_errno) . "<br>";
    }
    
    $setEncodingSql = "SET CHARSET utf-8";   
    $conn->query($setEncodingSql);
    
    return $conn;
}

//$user = new User();
//
//$user->setUsername("Gosia");
//$user->setHashsedPassword("haslo");
//$user->setEmail("g@b.pl");        
//
$conn = getDBConnection();

var_dump(Tweet::loadAllTweets($conn));

//$tweet = new Tweet();
//
//$tweet->setUserId(29);
//$tweet->setTweet('Cool app, check it out');
//$tweet->setCreationDate();
//
//var_dump($tweet);
//
//if ($tweet->saveToDB($conn)) {
//    echo 'Tweet added to DB';
//    echo date('d - m - Y, G:i:s', $tweet->creationDate);
//} else {
//    echo 'Something went wrong. Tweet not added';
//}

//if ($user->saveToDB($conn)) {
//    echo "User record created";
//} else {
//    echo "User record not created";
//}

//$id = 1;
//
//$userById = User::loadUserById($conn, $id);
//
//if (is_null($userById)) {
//    echo "User with id $id does not exist";
//    die;
//} else {
//    var_dump($userById);
//}
//
//$userById->delete($conn);
//var_dump($userById);

//$users = User::loadAllUsers($conn);
//var_dump($users);

//$id = $_GET["id"];
//$email = $_GET["email"];
//
//$user = User::loadUserById($conn, $id);
//
//var_dump($user);
//
//if (empty($user)) {
//    echo "No users";
//    die;
//}
//
//$user->setEmail($email);
//
//if ($user->saveToDB($conn)) {
//    echo "user updated";
//    var_dump($user);
//} else {
//    echo "user not updated";
//}
